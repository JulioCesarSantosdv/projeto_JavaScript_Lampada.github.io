 <!-–HTML-–>
<!DOCTYPE HTML>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body{
           text-align: center;
           font-family: sans-serif;
          font-size: 3vw;
          background-color: #FFFAFA;
       }
    </style>
    <h2>Estruturas de controle - Lâmpada</h2>
</head>  
<body>
    <img src="off.jpg" alt="Lâmpada" id="lamp">
    <!--<img id="lamp" onclick="quebralampada()" src="broken.jpg">-->
    <form>
        <input type="button" value = " LIGA " onclick="liga()">
        <input type="button" value = " DESLIGA " onclick="desliga()">
        <input type="button" value = " PISCA " onclick="pisca()">
        <input type="button" value = " QUEBRA" onclick="quebra()">
    </form>
    <!-–JavaScript-–>
<script>
     /*function mudaImagem() {
          var imagem = document.getElementById('lamp');
          if (imagem.src.match("off.jpg")) {
              imagem.src = "on.jpg";
          } else {
             imagem.src = "off.jpg";
         }
      }*/
function estaQuebrada(){
    return lamp.src.indexOf('broken')> -1;
}
function quebra(){
     document.getElementById("lamp").src = "broken.jpg";
}
function liga(){
    if(!estaQuebrada()){
        document.getElementById("lamp").src = "on.jpg";
    }
}
function desliga(){
    if(!estaQuebrada()){
        document.getElementById("lamp").src = "off.jpg";
    }
}
function pisca(){
    var intervalo = 0;
    var contador = 0;
    while(contador < 20){
        intervalo += 600;
        setTimeout("document.getElementById('lamp').src='on.jpg';",intervalo);
        intervalo += 600;
        setTimeout("document.getElementById('lamp').src='off.jpg';",intervalo);
        contador++;
        break;
    }
}
</script>
</body>
</html>


